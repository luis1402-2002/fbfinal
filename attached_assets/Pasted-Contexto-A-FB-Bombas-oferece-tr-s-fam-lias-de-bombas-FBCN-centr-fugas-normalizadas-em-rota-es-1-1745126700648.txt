Contexto
A FBÂ Bombas oferece trÃªs famÃ­lias de bombas:

FBCN (centrÃ­fugas normalizadas) em rotaÃ§Ãµes 1750Â rpm e 3500Â rpm

FBOT (Ã³leo tÃ©rmico) em rotaÃ§Ãµes 1750Â rpm e 3500Â rpm

FBE (engrenagem externa) em rotaÃ§Ãµes 1750Â rpm, 1150Â rpm e 850Â rpm

Cada modelo possui curvas de desempenho (vazÃ£o Ã— altura), eficiÃªncia, NPSH e potÃªncia.

O objetivo Ã© que o cliente selecione parÃ¢metros (vazÃ£o, altura, viscosidade, densidade, temperatura, tipo de bomba e rotaÃ§Ã£o) e obtenha:

Bomba recomendada

GrÃ¡ficos (curva da bomba, eficiÃªncia e curva do sistema) responsivos

RecomendaÃ§Ãµes tÃ©cnicas especÃ­ficas para cada caso

2. InstruÃ§Ãµes de Alto NÃ­vel
Papel da IA: â€œVocÃª Ã© um engenheiro frontâ€‘end sÃªnior especialista em React, TypeScript e UX B2B.â€

Tarefa:

Refatorar o componente PumpCalculatorSection (cÃ³digo abaixo) para tornÃ¡â€‘lo:

Modular: separar lÃ³gicas em hooks e utilitÃ¡rios.

ExtensÃ­vel: fÃ¡cil de acrescentar novas curvas/rotations.

AcessÃ­vel: WAIâ€‘ARIA, labels, descriÃ§Ãµes e navegaÃ§Ã£o por teclado.

InternacionalizÃ¡vel: manter chaves t(â€¦), sem texto hardâ€‘coded.

TestÃ¡vel: exportar lÃ³gica pura para unit tests (Jest).

PerformÃ¡tico: usar useMemo / useCallback, evitar recalculos desnecessÃ¡rios.

Inserir todas as curvas (FBCN, FBOT, FBE) presentes nos documentos tÃ©cnicos.

Garantir responsividade para mobile e desktop, mantendo estilo da marca (azul, vermelho) via TailwindÂ CSS.

Formato de saÃ­da:

Fornecer um Ãºnico componente React (ou vÃ¡rios arquivos se necessÃ¡rio), com:

ComentÃ¡rios JSDoc para props e funÃ§Ãµes principais.

InstruÃ§Ãµes de uso no README.

Exemplo de teste unitÃ¡rio para a funÃ§Ã£o de seleÃ§Ã£o de bomba.

RestriÃ§Ãµes:

NÃ£o remova nenhuma funcionalidade existente.

Mantenha compatibilidade com Contexto de idioma (useLanguage).

Preserve a UI (Tabs, Sliders, Cards, GrÃ¡ficos), mas melhore usabilidade, loading states e mensagens de erro.

3. CÃ³digo de ReferÃªncia
<details> <summary>ğŸš€ Clique para expandir o cÃ³digo atual `PumpCalculatorSection`</summary>
tsx
Copiar
Editar
// [Cole aqui o cÃ³digo completo que vocÃª enviou acima]
</details>
4. CritÃ©rios de AceitaÃ§Ã£o
âœ… Funcionalidade: a calculadora deve gerar mesmo resultado (pumpModel, eficiÃªncia, potÃªncia, NPSH, recomendaÃ§Ãµes).

âœ… Modularidade: lÃ³gicas extraÃ­das para hooks como useSystemCurve, usePumpSelection.

âœ… Acessibilidade: componentes navegÃ¡veis por teclado, labels associados, alertas de erro acessÃ­veis.

âœ… InternacionalizaÃ§Ã£o: todo texto via t("â€¦").

âœ… Performance: curvas e cÃ¡lculos memoizados para evitar reâ€‘renderizaÃ§Ãµes desnecessÃ¡rias.

âœ… DocumentaÃ§Ã£o: README breve explicando props, hooks e instruÃ§Ãµes de teste.

âœ… Testes: ao menos 1 unit test para a funÃ§Ã£o que determina o modelo ideal.

Use esta prompt como entrada para um agente IA (ChatGPT, Claude, etc.) para gerar o cÃ³digo refatorado, completo e pronto para entrega.







VocÃª disse:

TA TUDO CERTO AQUI?

O ChatGPT disse:
A interface estÃ¡ muito bem construÃ­da do ponto de vista de layout, cores e hierarquia visual. Mas notei alguns desencontros de dados que precisam ser corrigidos para garantir que tudo reflita os parÃ¢metros de entrada e os cÃ¡lculos da calculadora:

1. Resumo â€œPonto de OperaÃ§Ã£oâ€
VazÃ£o: 19.2Â mÂ³/h âœ”ï¸

Altura: 45.1Â m âœ”ï¸

EficiÃªncia: 53.7Â % âœ”ï¸

PotÃªncia requerida: 4.4Â kW âœ”ï¸

NPSH requerido: 2.1Â m âœ”ï¸

RotaÃ§Ã£o: 1750Â RPM âœ”ï¸

Estes valores batem com o exemplo de entrada de ~19Â mÂ³/h e 45Â m de altura.

2. GrÃ¡fico â€œCurvas de Desempenhoâ€
Linha vermelha (curva da bomba) e tracejado azul (curva do sistema) estÃ£o corretos e o ponto de interseÃ§Ã£o Ã© destacado em verde.

Legenda clara e os eixos estÃ£o corretamente rotulados em â€œVazÃ£o (mÂ³/h)â€ e â€œAltura (m)â€.

3. â€œDados TÃ©cnicos Detalhadosâ€
âŒ Aqui estÃ¡ o problema principal: os parÃ¢metros listados nÃ£o coincidem com os do resumo:


Campo	Resumo (calculado)	Detalhado (exibido)
VazÃ£o	19.2Â mÂ³/h	10Â mÂ³/h
Altura ManomÃ©trica	45.1Â m	20Â m
Altura EstÃ¡tica	â€”	10Â m
PotÃªncia do Motor	4.4Â kW	6.0Â kW
FluÃ­do / Temperatura / Densidade / Viscosidade estÃ£o corretos, mas o cabeÃ§alho estÃ¡ confuso dividindo â€œParÃ¢metros do Sistemaâ€ e â€œParÃ¢metros do Fluidoâ€ que poderiam estar mais prÃ³ximos do resumo.		
O que ajustar aqui:

Vincular estes campos aos mesmos valores de entrada e resultado que vocÃª jÃ¡ calculou no resumo (flowRate, head, efficiency, power, npsh).

Se quiser manter â€œAltura EstÃ¡ticaâ€ e â€œAltura ManomÃ©tricaâ€ como dados separados, esses valores devem vir do cÃ¡lculo de curva de sistema (por exemplo staticHead vs systemHead).

PotÃªncia do Motor: se existe um fator de reserva (ex.: 6Â kW vs 4.4Â kW calculados), deixe claro no tÃ­tulo (â€œPotÃªncia requeridaâ€ vs â€œPotÃªncia recomendada com reservaâ€).

4. Callâ€‘toâ€‘Action (â€œSolicitar CotaÃ§Ã£oâ€)
ğŸ‘ A CTA estÃ¡ bem posicionada e chama a atenÃ§Ã£o. SÃ³ vale renomear para â€œSolicitar CotaÃ§Ã£o TÃ©cnicaâ€ ou algo que deixe claro o que o cliente irÃ¡ receber.

ConclusÃ£o
Layout e UX: perfeitos.

Dados de operaÃ§Ã£o e grÃ¡ficos: corretos.

Dados detalhados: precisam ser refeitos para usar exatamente os mesmos resultados calculados.

Com esse ajuste de binding de dados, sua seÃ§Ã£o de calculadora ficarÃ¡ 100Â % coerente e pronta para uso!